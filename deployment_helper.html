<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCP ë°°í¬ ë„ìš°ë¯¸</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .content {
            padding: 40px;
        }
        .step {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }
        .step h3 {
            color: #667eea;
            margin-top: 0;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 15px 0;
        }
        .download-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }
        .status {
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .file-info {
            background: #e9ecef;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ GCP Compute Engine ë°°í¬ ë„ìš°ë¯¸</h1>
            <p>ì „ë ¥/íƒ„ì†Œ ê±°ë˜ í”Œë«í¼ì„ GCPì— ì‰½ê²Œ ë°°í¬í•˜ì„¸ìš”</p>
        </div>
        
        <div class="content">
            <div class="status info">
                <strong>ğŸ“‹ ì„œë²„ ì •ë³´:</strong> IP: 34.47.89.217 | ì‚¬ìš©ì: metal | ì¸ì¦: ppk í‚¤
            </div>
            
            <div class="step">
                <h3>1ë‹¨ê³„: ë°°í¬ íŒŒì¼ ë‹¤ìš´ë¡œë“œ</h3>
                <p>ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë°°í¬ìš© ì••ì¶• íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.</p>
                <button class="download-btn" onclick="downloadFile()">
                    ğŸ“¦ energy-analysis-mcp-deploy.tar.gz ë‹¤ìš´ë¡œë“œ
                </button>
                <div class="file-info">
                    <strong>íŒŒì¼ í¬ê¸°:</strong> 129MB<br>
                    <strong>í¬í•¨ ë‚´ìš©:</strong> ì›¹ ì¸í„°í˜ì´ìŠ¤, ê±°ë˜ í”Œë«í¼, AI ìµœì í™” ì—”ì§„, ê¸€ë¡œë²Œ Demo Sites
                </div>
            </div>
            
            <div class="step">
                <h3>2ë‹¨ê³„: ì„œë²„ ì ‘ì†</h3>
                <p>PuTTY ë˜ëŠ” WinSCPë¥¼ ì‚¬ìš©í•˜ì—¬ GCP ì„œë²„ì— ì ‘ì†í•˜ì„¸ìš”.</p>
                <div class="code-block">
Host: 34.47.89.217<br>
Port: 22<br>
Username: metal<br>
Authentication: ppk í‚¤ íŒŒì¼ ì„ íƒ
                </div>
            </div>
            
            <div class="step">
                <h3>3ë‹¨ê³„: íŒŒì¼ ì—…ë¡œë“œ</h3>
                <p>ë‹¤ìš´ë¡œë“œí•œ ì••ì¶• íŒŒì¼ì„ ì„œë²„ì˜ /tmp/ ë””ë ‰í† ë¦¬ì— ì—…ë¡œë“œí•˜ì„¸ìš”.</p>
                <div class="code-block">
# WinSCP ë˜ëŠ” FileZilla ì‚¬ìš©<br>
# ë¡œì»¬ íŒŒì¼: energy-analysis-mcp-deploy.tar.gz<br>
# ì›ê²© ê²½ë¡œ: /tmp/energy-analysis-mcp-deploy.tar.gz
                </div>
            </div>
            
            <div class="step">
                <h3>4ë‹¨ê³„: ë°°í¬ ëª…ë ¹ì–´ ì‹¤í–‰</h3>
                <p>ì„œë²„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë“¤ì„ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ì„¸ìš”.</p>
                <button class="download-btn" onclick="copyCommands()">
                    ğŸ“‹ ëª…ë ¹ì–´ ë³µì‚¬
                </button>
                <div class="code-block" id="deployment-commands">
# 1. ì••ì¶• íŒŒì¼ í™•ì¸<br>
ls -la /tmp/energy-analysis-mcp-deploy.tar.gz<br><br>

# 2. ê¸°ì¡´ ë””ë ‰í† ë¦¬ ë°±ì—… ë° ìƒˆë¡œ ìƒì„±<br>
cd /home/metal<br>
mv energy-analysis-mcp energy-analysis-mcp-backup-$(date +%Y%m%d_%H%M%S) 2>/dev/null || true<br>
mkdir -p energy-analysis-mcp<br>
cd energy-analysis-mcp<br><br>

# 3. ì••ì¶• í•´ì œ<br>
tar -xzf /tmp/energy-analysis-mcp-deploy.tar.gz<br>
rm /tmp/energy-analysis-mcp-deploy.tar.gz<br><br>

# 4. Python í™˜ê²½ ì„¤ì •<br>
python3 -m venv venv<br>
source venv/bin/activate<br>
pip install --upgrade pip<br>
pip install -r requirements.txt<br><br>

# 5. ê¸°ì¡´ ì„œë¹„ìŠ¤ ì¤‘ì§€<br>
sudo systemctl stop energy-analysis-mcp 2>/dev/null || true<br>
sudo systemctl disable energy-analysis-mcp 2>/dev/null || true<br><br>

# 6. systemd ì„œë¹„ìŠ¤ íŒŒì¼ ìƒì„±<br>
sudo tee /etc/systemd/system/energy-analysis-mcp.service > /dev/null << 'SERVICE_EOF'<br>
[Unit]<br>
Description=Energy Analysis MCP Service<br>
After=network.target<br><br>
[Service]<br>
Type=simple<br>
User=metal<br>
WorkingDirectory=/home/metal/energy-analysis-mcp<br>
Environment=PATH=/home/metal/energy-analysis-mcp/venv/bin<br>
ExecStart=/home/metal/energy-analysis-mcp/venv/bin/python -m uvicorn web_interface:web_app --host 0.0.0.0 --port 8000 --workers 4<br>
Restart=always<br>
RestartSec=10<br><br>
[Install]<br>
WantedBy=multi-user.target<br>
SERVICE_EOF<br><br>

# 7. ì„œë¹„ìŠ¤ ì‹œì‘<br>
sudo systemctl daemon-reload<br>
sudo systemctl enable energy-analysis-mcp<br>
sudo systemctl start energy-analysis-mcp<br><br>

# 8. ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸<br>
sudo systemctl status energy-analysis-mcp --no-pager<br><br>

# 9. ë°©í™”ë²½ ì„¤ì •<br>
sudo ufw allow 8000/tcp 2>/dev/null || true<br><br>

# 10. í¬íŠ¸ í™•ì¸<br>
netstat -tlnp | grep :8000 || ss -tlnp | grep :8000<br><br>

echo "âœ… ë°°í¬ ì™„ë£Œ!"<br>
echo "ğŸŒ ì„œë¹„ìŠ¤ URL: http://34.47.89.217:8000"<br>
echo "ğŸ“Š ê±°ë˜ í˜ì´ì§€: http://34.47.89.217:8000/trading?lang=ko"<br>
echo "ğŸ“ˆ Statistics í˜ì´ì§€: http://34.47.89.217:8000/statistics?lang=ko"
                </div>
            </div>
            
            <div class="step">
                <h3>5ë‹¨ê³„: ë°°í¬ í™•ì¸</h3>
                <p>ë°°í¬ ì™„ë£Œ í›„ ë‹¤ìŒ URLë“¤ì— ì ‘ì†í•˜ì—¬ ì„œë¹„ìŠ¤ê°€ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.</p>
                <div class="status success">
                    <strong>ğŸŒ ì ‘ì† URL:</strong><br>
                    â€¢ ë©”ì¸ í˜ì´ì§€: <a href="http://34.47.89.217:8000/?lang=ko" target="_blank">http://34.47.89.217:8000/?lang=ko</a><br>
                    â€¢ ê±°ë˜ í˜ì´ì§€: <a href="http://34.47.89.217:8000/trading?lang=ko" target="_blank">http://34.47.89.217:8000/trading?lang=ko</a><br>
                    â€¢ Statistics í˜ì´ì§€: <a href="http://34.47.89.217:8000/statistics?lang=ko" target="_blank">http://34.47.89.217:8000/statistics?lang=ko</a>
                </div>
            </div>
            
            <div class="step">
                <h3>ğŸ“Š ë°°í¬ë  ê¸°ëŠ¥ë“¤</h3>
                <div class="status info">
                    <strong>ì „ë ¥/íƒ„ì†Œ ê±°ë˜ í”Œë«í¼:</strong><br>
                    â€¢ P2P ì „ë ¥ ê±°ë˜ ë§ˆì¼“í”Œë ˆì´ìŠ¤<br>
                    â€¢ íƒ„ì†Œ í¬ë ˆë”§ ê±°ë˜ ì‹œìŠ¤í…œ<br>
                    â€¢ AI ìˆ˜ìµ ìµœì í™” ì—”ì§„<br>
                    â€¢ ì‹¤ì‹œê°„ ê±°ë˜ í”¼ë“œ<br>
                    â€¢ ê±°ë˜ í†µê³„ ë° ë¶„ì„<br><br>
                    
                    <strong>ê¸€ë¡œë²Œ Demo Sites:</strong><br>
                    â€¢ Finland, Sweden, Romania, Greece<br>
                    â€¢ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§<br>
                    â€¢ ì„±ê³¼ ì§€í‘œ ë¶„ì„
                </div>
            </div>
        </div>
    </div>

    <script>
        function downloadFile() {
            // ì‹¤ì œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ êµ¬í˜„
            const link = document.createElement('a');
            link.href = 'energy-analysis-mcp-deploy.tar.gz';
            link.download = 'energy-analysis-mcp-deploy.tar.gz';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        function copyCommands() {
            const commands = document.getElementById('deployment-commands').textContent;
            navigator.clipboard.writeText(commands).then(() => {
                alert('ëª…ë ¹ì–´ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }).catch(() => {
                alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
            });
        }
    </script>
</body>
</html>
